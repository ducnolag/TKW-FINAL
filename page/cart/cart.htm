<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giỏ Hàng | Brand Name</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="/css/again.css">
    <link rel="stylesheet" href="cart.css">
</head>
<body>

    <div data-include="/components/header.htm"></div>

    <div class="wrapper cart-wrapper">
        <div class="cart-header-section">
            <div class="breadcrumb-nav">
                <a href="/page/category/product/product.htm" class="back-link">
                    <i class="fa-solid fa-arrow-left"></i>
                    Tiếp tục mua sắm
                </a>
            </div>

            <div class="page-header">
                <div class="page-header-content">
                    <div class="page-title" style="border-bottom: none;">Giỏ hàng</div>
                    <span class="item-badge">
                        <i class="fa-solid fa-shopping-bag"></i>
                        <span id="itemCount">0</span> sản phẩm
                    </span>
                </div>
            </div>
        </div>

        <div class="cart-container">
            <div class="cart-list-section" id="cartItems"></div>

            <div class="cart-summary-section">
                <div class="summary-card">
                    <h2 class="summary-title">Tóm tắt đơn hàng</h2>
                    
                    <div class="summary-details">
                        <div class="row">
                            <span>Tạm tính</span>
                            <span id="subtotal" class="value">0đ</span>
                        </div>
                        <div class="row">
                            <span>Vận chuyển</span>
                            <span id="shipping" class="value">0đ</span>
                        </div>
                        <div class="row discount-row">
                            <span>Giảm giá</span>
                            <span id="discount" class="value highlight">-0đ</span>
                        </div>
                    </div>

                    <div class="promo-section">
                        <div id="promoDisplay"></div>
                        <div class="input-group">
                            <input type="text" id="promoInput" placeholder="Mã ưu đãi" autocomplete="off">
                            <button onclick="applyPromo()">Áp dụng</button>
                        </div>
                    </div>

                    <div class="divider"></div>

                    <div class="total-row">
                        <span>Tổng thanh toán</span>
                        <span id="total" class="total-amount">0đ</span>
                    </div>

                    <button class="checkout-btn" id="checkoutBtn" onclick="checkout()">
                        Tiến hành thanh toán
                    </button>


                </div>
            </div>
        </div>
    </div>

    <div id="toast-container" class="toast-container"></div>

    <!-- Modal for Messages -->
    <div class="modal-cart" id="messageModal">
        <div class="modal-content-cart">
            <div class="modal-header-cart">
                <h2 id="modalTitle">Thông báo</h2>
                <button class="close-btn-cart" onclick="closeMessageModal()">&times;</button>
            </div>
            <div class="modal-body-cart">
                <p id="modalMessage"></p>
            </div>
            <div class="modal-actions-cart">
                <button class="modal-btn-cart modal-btn-primary-cart" onclick="closeMessageModal()">Đóng</button>
            </div>
        </div>
    </div>

    <!-- Modal for Confirmation -->
    <div class="modal-cart" id="confirmModal">
        <div class="modal-content-cart">
            <div class="modal-header-cart">
                <h2 id="confirmTitle">Xác nhận</h2>
                <button class="close-btn-cart" onclick="closeConfirmModal()">&times;</button>
            </div>
            <div class="modal-body-cart">
                <p id="confirmMessage"></p>
            </div>
            <div class="modal-actions-cart">
                <button class="modal-btn-cart" onclick="closeConfirmModal()">Hủy</button>
                <button class="modal-btn-cart modal-btn-primary-cart" id="confirmButton" onclick="confirmAction()">Xác nhận</button>
            </div>
        </div>
    </div>

    <script src="cart.js"></script>
    <script type="module" src="/js/again.js"></script>
</body>
</html>