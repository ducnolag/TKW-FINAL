
<!-- TOPBAR -->

<div class="header-topbar">
  <div class="container">
    <div class="topbar-contact">
      <a href="tel:0343130254">
        <i class="fas fa-phone-alt"></i>
        0343130254
      </a>
      <a href="mailto:tavntg@gmail.com">
        <i class="far fa-envelope"></i>
        tavntg@gmail.com
      </a>
    </div>

    <div class="topbar-account">
      <!-- Phần hiển thị KHI ĐÃ ĐĂNG NHẬP -->
      <div class="logged-in-section" id="loggedInSection">

        <a href="/page/account/profile/profile.html">
          <i class="fas fa-user"></i> Tài khoản
        </a>
        <button id="logoutBtn">
          <i class="fas fa-sign-out-alt"></i> Đăng xuất
        </button>
      </div>

      <!-- Phần hiển thị KHI CHƯA ĐĂNG NHẬP -->
      <div class="auth-dropdown" id="authDropdown">
        <a href="/page/account/login/login.html#login">
          <i class="fas fa-sign-in-alt"></i> Đăng nhập
        </a>
        <a href="/page/account/login/login.html#signup">
          <i class="fas fa-user-plus"></i> Đăng ký
        </a>
      </div>
    </div>
  </div>
</div>

    <!-- MAIN HEADER -->
    <header class="header-main">
      <div class="container">
        <!-- Logo -->
        <div class="header-logo">
          <a href="/index.htm">
            <img src="/assets/logo.svg" alt="Logo" />
          </a>
        </div>

        <!-- Desktop Navigation -->
        <nav class="header-nav">
          <ul class="nav-menu">
            <li class="nav-item active">
              <a href="/index.htm" class="nav-link">Trang chủ</a>
            </li>
            <li class="nav-item">
              <a href="/page/checkout/checkout.htm" class="nav-link">Test Thanh Toán</a>
            </li>
            <li class="nav-item has-mega">
              <a href="/page/category/product/product.htm" class="nav-link">
                Sản phẩm
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="mega-menu">
                <div class="mega-grid" id="megaCategory">
                  <!-- Danh mục sẽ được tải động từ product.json -->
                </div>
              </div>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">Khuyến mãi</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">Tin tức</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">Phương thức mua hàng</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">Liên hệ</a>
            </li>
          </ul>
        </nav>

        <!-- Header Actions -->
        <div class="header-actions">
          <!-- Search -->
          <form action="/page/category/product/product.htm" method="get" class="search-box" onsubmit="return handleSearch(event)">
            <input
              type="text"
              name="query"
              class="search-input"
              placeholder="Tìm kiếm sản phẩm..."
            />
            <button type="submit" class="search-btn">
              <i class="fas fa-search"></i>
            </button>
          </form>

          <!-- Cart -->
          <a href="/page/cart/cart.htm" class="cart-btn">
            <p class="cart-count">0</p>
            <i class="fas fa-shopping-cart"></i>
          </a>

          <!-- Mobile Menu Toggle -->
          <button class="mobile-toggle" id="mobileToggle">
            <i class="fas fa-bars"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- MOBILE SEARCH -->
    <div class="mobile-search-bar">
      <form action="/page/category/product/product.htm" method="get" onsubmit="return handleSearch(event)">
        <input type="text" name="query" placeholder="Tìm kiếm sản phẩm..." />
        <button type="submit"><i class="fas fa-search"></i></button>
      </form>
    </div>

    <!-- MOBILE MENU -->
    <div class="mobile-menu" id="mobileMenu">
      <div class="mobile-menu-header">
        <h3>Menu</h3>
        <button class="mobile-close" id="mobileClose">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <ul class="mobile-nav-list">
        <li class="mobile-nav-item">
          <a href="/index.htm">Trang chủ</a>
        </li>
        <li class="mobile-nav-item">
          <a href="/page/category/product/product.htm">Sản phẩm</a>
        </li>
        <li class="mobile-nav-item">
          <a href="#">Khuyến mãi</a>
        </li>
        <li class="mobile-nav-item">
          <a href="#">Tin tức</a>
        </li>
        <li class="mobile-nav-item">
          <a href="#">Liên hệ</a>
        </li>
      </ul>
    </div>

    <div class="mobile-overlay" id="mobileOverlay"></div>

    <div class="header-modal" id="headerLogoutModal">
      <div class="header-modal-content">
        <div class="header-modal-header">
          <h2>Xác nhận đăng xuất</h2>
          <button class="header-close-btn" id="closeLogoutModal">&times;</button>
        </div>
        <div class="header-modal-body">
          <p>Bạn có chắc chắn muốn đăng xuất khỏi tài khoản không?</p>
        </div>
        <div class="header-modal-actions">
          <button class="header-modal-btn" id="cancelLogoutBtn">Hủy</button>
          <button class="header-modal-btn header-btn-primary" id="confirmLogoutBtn">Đăng xuất</button>
        </div>
      </div>
    </div>


